# Query to get user achievements with filtering and pagination
# Returns achievements with progress tracking and category filtering
query GetUserAchievements(
  $userId: UUID!
  $category: String
  $first: Int = 20
  $after: Cursor
) {
  user_achievementsCollection(
    filter: { 
      user_id: { eq: $userId }
    }
    first: $first
    after: $after
  ) {
    edges {
      node {
        id
        user_id
        achievement_id
        progress
        is_completed
        completed_at
        created_at
        updated_at
        achievements {
          id
          title
          description
          category
          icon_url
          points
          requirements
          is_active
          created_at
        }
      }
      cursor
    }
    pageInfo {
      hasNextPage
      hasPreviousPage
      startCursor
      endCursor
    }
  }
}