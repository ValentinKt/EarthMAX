# Query to search eco-tips with advanced filtering and pagination
# Supports filtering, sorting, and pagination using Supabase collections
query SearchEcoTips(
  $filter: eco_tipsFilter
  $orderBy: [eco_tipsOrderBy!]
  $first: Int = 20
  $after: Cursor
) {
  eco_tipsCollection(
    filter: $filter
    orderBy: $orderBy
    first: $first
    after: $after
  ) {
    edges {
      node {
        id
        title
        description
        category
        difficulty
        estimated_impact
        steps
        image_url
        tags
        resources
        carbon_savings_kg
        cost_savings_usd
        time_required_minutes
        is_active
        created_at
        updated_at
      }
      cursor
    }
    pageInfo {
      hasNextPage
      hasPreviousPage
      startCursor
      endCursor
    }
  }
}