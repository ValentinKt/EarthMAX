# Subscription for real-time achievement notifications
# Notifies when a user unlocks new achievements
subscription UserAchievementUnlocked($userId: ID!) {
  userAchievementUnlocked(userId: $userId) {
    achievement {
      id
      title
      description
      category
      iconUrl
      badgeUrl
      unlockedAt
      progress
      maxProgress
      requirements
      rewards {
        type
        value
        description
      }
    }
    
    # Updated user statistics after achievement
    userStats {
      totalEcoTipsCompleted
      totalCarbonSaved
      totalCostSaved
      currentStreak
      longestStreak
    }
  }
}